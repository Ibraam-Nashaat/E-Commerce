{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}}}},"/api/auth/signup":{"post":{"operationId":"AuthController_signUp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpRequestDto"}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"400":{"description":"name must be a string<br>name should not be empty<br>email should not be empty<br>email must be an email<br>password must be a string<br>password should not be empty<br>phone must be a valid phone number<br>phone should not be empty<br>address should not be empty"},"409":{"description":"email already exists<br>phone number already exists"}},"tags":["Auth"]}},"/api/auth/signin":{"post":{"operationId":"AuthController_signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInRequestDto"}}}},"responses":{"201":{"description":"Signed in successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"400":{"description":"email should not be empty<br>email must be an email<br>password must be a string<br>password should not be empty"},"401":{"description":"password is incorrect"},"404":{"description":"email not found"}},"tags":["Auth"]}},"/api/products/add":{"post":{"operationId":"SellerController_addProduct","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddProductRequestDto"}}}},"responses":{"201":{"description":"product added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddProductResponseDto"}}}},"400":{"description":"name must be a string<br>name should not be empty<br>description should not be empty<br>description must be a string<br>price must be a number conforming to the specified constraints<br>price should not be empty<br>stock must be a number conforming to the specified constraints<br>stock should not be empty<br>category must be a string<br>category should not be empty"}},"tags":["Sellers"]}},"/api/coupons/add":{"post":{"operationId":"SellerController_addCoupon","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddCouponRequestDto"}}}},"responses":{"201":{"description":"coupon added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddCouponResponseDto"}}}},"400":{"description":"coupon should not be empty<br>coupon must be a string<br>discount must be a number conforming to the specified constraints<br>discount should not be empty"},"409":{"description":"Coupon already exists"}},"tags":["Sellers"]}},"/api/cart/{userId}":{"get":{"operationId":"CartController_getCartItems","parameters":[],"responses":{"200":{"description":"cart items retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetCartItemsResponseDto"}}}}},"401":{"description":"unauthorized"}},"tags":["Carts"],"security":[{"bearer":[]}]}},"/api/cart/add":{"post":{"operationId":"CartController_addToCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddOrUpdateProductRequestDto"}}}},"responses":{"201":{"description":"product added to cart successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCartItemsResponseDto"}}}},"400":{"description":"productId must be a number conforming to the specified constraints<br>productId should not be empty<br>quantity must be a number conforming to the specified constraints<br>quantity should not be empty"},"401":{"description":"unauthorized"},"404":{"description":"product not found"}},"tags":["Carts"],"security":[{"bearer":[]}]}},"/api/cart/update":{"put":{"operationId":"CartController_updateCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddOrUpdateProductRequestDto"}}}},"responses":{"200":{"description":"cart updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCartItemsResponseDto"}}}},"400":{"description":"productId must be a number conforming to the specified constraints<br>productId should not be empty<br>quantity must be a number conforming to the specified constraints<br>quantity should not be empty"},"401":{"description":"unauthorized"},"404":{"description":"product not found<br>product not found in cart"}},"tags":["Carts"],"security":[{"bearer":[]}]}},"/api/cart/remove":{"delete":{"operationId":"CartController_removeProductFromCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RemoveProductFromCartRequestDto"}}}},"responses":{"200":{"description":"product removed from cart successfully"},"400":{"description":"productId should not be empty<br>productId must be a number conforming to the specified constraints"},"401":{"description":"unauthorized"},"404":{"description":"product not found in cart"}},"tags":["Carts"],"security":[{"bearer":[]}]}},"/api/orders/apply-coupon":{"post":{"operationId":"OrderController_applyCoupon","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyCouponRequestDto"}}}},"responses":{"201":{"description":"coupon applied to order successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderActionResponseDto"}}}},"401":{"description":"unauthorized"},"404":{"description":"coupon not found<br>no order exists with this id"}},"tags":["Orders"],"security":[{"bearer":[]}]}},"/api/users/orders":{"get":{"operationId":"OrderController_getOrdersHistory","parameters":[],"responses":{"200":{"description":"orders history retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetOrderResponseDto"}}}}},"401":{"description":"unauthorized"}},"tags":["Orders"],"security":[{"bearer":[]}]}},"/api/orders":{"post":{"operationId":"OrderController_createOrder","parameters":[],"responses":{"201":{"description":"order created successfully"},"400":{"description":"can't create order from empty cart"},"401":{"description":"unauthorized"},"409":{"description":"one or more items exceed available stock."}},"tags":["Orders"],"security":[{"bearer":[]}]}},"/api/orders/{orderId}":{"get":{"operationId":"OrderController_getOrder","parameters":[{"name":"orderId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"order was retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOrderResponseDto"}}}},"401":{"description":"unauthorized"},"404":{"description":"no order exists with this id"}},"tags":["Orders"],"security":[{"bearer":[]}]}},"/api/orders/{orderId}/status":{"put":{"operationId":"OrderController_updateOrderStatus","parameters":[{"name":"orderId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderStatusRequestDto"}}}},"responses":{"200":{"description":"order status updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderActionResponseDto"}}}},"400":{"description":"invalid order status"},"401":{"description":"unauthorized"},"404":{"description":"no order exists with this id"}},"tags":["Orders"],"security":[{"bearer":[]}]}}},"info":{"title":"API Documentation","description":"The API description","version":"1.0","contact":{}},"tags":[{"name":"api","description":""}],"servers":[],"components":{"schemas":{"SignUpRequestDto":{"type":"object","properties":{"name":{"type":"string","description":"Name of the user","example":"John Moris"},"email":{"type":"string","description":"Email of the user","example":"john@gmail.com"},"password":{"type":"string","description":"Password of the user","example":"John@1234"},"phone":{"type":"string","description":"Phone number of the user","example":"+201204567891"},"address":{"type":"string","description":"Address of the user","example":"Mourad Street, Giza, Egypt"}},"required":["name","email","password","phone","address"]},"AuthResponseDto":{"type":"object","properties":{"userId":{"type":"number","description":"id of the user","example":"1"},"name":{"type":"string","description":"Name of the user","example":"John Moris"},"email":{"type":"string","description":"Email of the user","example":"john@gmail.com"},"phone":{"type":"string","description":"Phone number of the user","example":"+201204567891"},"address":{"type":"string","description":"Address of the user","example":"Mourad Street, Giza, Egypt"},"createdAt":{"format":"date-time","type":"string","description":"Account creation date","example":"2024-06-22T10:55:10.684Z"},"jwt":{"type":"string","description":"jwt","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNzE5MDUzNzEwLCJleHAiOjE3MTkwNTczMTB9.xAhjEUGcM4EMFrtOki0Bi3Q70BpHEzgUq8tJ22Jh2to"}},"required":["userId","name","email","phone","address","createdAt","jwt"]},"SignInRequestDto":{"type":"object","properties":{"email":{"type":"string","description":"Email","example":"john@gmail.com"},"password":{"type":"string","description":"Password","example":"John@1234"}},"required":["email","password"]},"AddProductRequestDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the product","example":"T-shirt"},"description":{"type":"string","description":"The description of the product","example":"White T-shirt"},"price":{"type":"number","description":"The price of the product","example":"350"},"stock":{"type":"number","description":"The available stock of the product","example":"25"},"category":{"type":"string","description":"The category of the product","example":"Sports"}},"required":["name","description","price","stock","category"]},"AddProductResponseDto":{"type":"object","properties":{"productId":{"type":"number","description":"product id","example":"1"},"name":{"type":"string","description":"product name","example":"T-shirt"},"description":{"type":"string","description":"product description","example":"White T-shirt"},"price":{"type":"number","description":"product price","example":"350"},"stock":{"type":"number","description":"product stock","example":"25"},"category":{"type":"string","description":"product category","example":"Sports"},"createdAt":{"format":"date-time","type":"string","description":"product creation date","example":"2024-06-22T10:55:10.684Z"}},"required":["productId","name","description","price","stock","category","createdAt"]},"AddCouponRequestDto":{"type":"object","properties":{"coupon":{"type":"string","description":"The Coupon string provided by seller","example":"Slash200"},"discount":{"type":"number","description":"The discount on the order when applying coupon","example":"200"}},"required":["coupon","discount"]},"AddCouponResponseDto":{"type":"object","properties":{"couponId":{"type":"number","description":"coupon id","example":"1"},"coupon":{"type":"string","description":"The Coupon string provided by seller","example":"Slash200"},"discount":{"type":"number","description":"The discount on the order when applying coupon","example":"200"}},"required":["couponId","coupon","discount"]},"GetCartItemsResponseDto":{"type":"object","properties":{"cartId":{"type":"number","description":"The id of the cart","example":"1"},"productId":{"type":"number","description":"The id of the product that you want to add to cart","example":"5"},"quantity":{"type":"number","description":"The quantity of the product that you want to add to cart","example":"3"}},"required":["cartId","productId","quantity"]},"AddOrUpdateProductRequestDto":{"type":"object","properties":{"productId":{"type":"number","description":"The id of the product that you want to add to cart","example":"5"},"quantity":{"type":"number","description":"The quantity of the product that you want to add to cart","example":"3"}},"required":["productId","quantity"]},"RemoveProductFromCartRequestDto":{"type":"object","properties":{"productId":{"type":"number","description":"The id of the product that you want to remove from cart","example":"5"}},"required":["productId"]},"ApplyCouponRequestDto":{"type":"object","properties":{"coupon":{"type":"string","description":"The Coupon string","example":"Slash200"},"orderId":{"type":"number","description":"The order id that you want to apply coupon to","example":"2"}},"required":["coupon","orderId"]},"OrderActionResponseDto":{"type":"object","properties":{"orderId":{"type":"number","description":"order id","example":"1"},"userId":{"type":"number","description":"user id","example":"2"},"orderDate":{"format":"date-time","type":"string","description":"order date","example":"2024-06-22T10:55:10.684Z"},"status":{"type":"string","description":"The status of the order","example":"Pending"},"total":{"type":"number","description":"order total amount","example":"2400"}},"required":["orderId","userId","orderDate","status","total"]},"GetOrderResponseDto":{"type":"object","properties":{"orderId":{"type":"number","description":"order id","example":"1"},"userId":{"type":"number","description":"user id","example":"2"},"orderDate":{"format":"date-time","type":"string","description":"order date","example":"2024-06-22T10:55:10.684Z"},"status":{"type":"string","description":"The status of the order","example":"Pending"},"total":{"type":"number","description":"order total amount","example":"300"},"items":{"description":"items of the order","example":"[{orderId: 1, productId: 1, quantity: 3, price: 300}]","type":"array","items":{"type":"string"}}},"required":["orderId","userId","orderDate","status","total","items"]},"UpdateOrderStatusRequestDto":{"type":"object","properties":{"status":{"type":"string","description":"The status of the order","example":"Pending"}},"required":["status"]}}}}